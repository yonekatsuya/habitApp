// 2018年から2022年までの祝日一覧を用意
const holidayList = {
  2017: {0: [1,2,9],1: [11],2: [20],3: [29],4: [3,4,5],5: [],6: [17],7: [11],8: [18,23],9: [9],10: [3,23],11:[]},
  2018: {0: [1, 8],1: [11, 12],2: [21],3: [29, 30],4: [3, 4, 5],5: [],6: [16],7: [11],8:     [17, 23, 24],9: [8],10: [3, 23],11: [24]},
  2019: {0: [1, 14],1: [11],2: [21],3: [29],4: [1,2,3, 4, 5, 6],5: [],6: [15],7: [11, 12],8: [16, 23],9: [14],10: [3, 4, 23],11: []},
  2020: {0: [1, 13],1: [11,23,24],2: [20],3: [29],4: [3, 4, 5,6],5: [],6: [23,24],7: [10],8: [21, 22],9: [],10: [3, 23],11: []},
  2021: {0: [1, 11],1: [11,23],2: [20],3: [29],4: [3, 4, 5],5: [],6: [19],7: [11],8: [20, 23],9: [11],10: [3, 23],11: []},
  2022: {0: [1, 10],1: [11,23],2: [21],3: [29],4: [3, 4, 5],5: [],6: [18],7: [11],8: [19, 23],9: [10],10: [3, 23],11: []},
  2023: {0: [1, 2,9],1: [11,23],2: [21],3: [29],4: [3, 4, 5],5: [],6: [17],7: [11],8: [18, 23],9: [9],10: [3, 23],11: []},
  2024: {0: [1,8],1: [11,12,23],2: [20],3: [29],4: [3, 4, 5,6],5: [],6: [15],7: [11,12],8: [16, 22,23],9: [14],10: [3, 4,23],11: []},
  2025: {0: [1,13],1: [11,23,24],2: [20],3: [29],4: [3, 4, 5,6],5: [],6: [21],7: [11],8: [15,23],9: [13],10: [3,23,24],11: []}
};

// 該当日付が祝日であるかどうかを判定
function isHoliday (year,month,day) {
  return holidayList[year][month].indexOf(day) !== -1;
}

// クッキーから特定の値を取得する
function getCookie(name) {
  var cookies = document.cookie;
  cookies = cookies.replace(/\s+/g, "");
  var cookiesArray = cookies.split(';');
  var returnStr = '';
  cookiesArray.forEach(function(c) {
    var cArray = c.split('=');
    if( cArray[0] == name){
        returnStr = cArray[1];
    }
  });
  return returnStr;
}

// サニタイジング
function escape_html (string) {
  if(typeof string !== 'string') {
    return string;
  }
  return string.replace(/[&'`"<>]/g, function(match) {
    return {
      '&': '&amp;',
      "'": '&#x27;',
      '`': '&#x60;',
      '"': '&quot;',
      '<': '&lt;',
      '>': '&gt;',
    }[match]
  });
}

export default { isHoliday,getCookie,escape_html }